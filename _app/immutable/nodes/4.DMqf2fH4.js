import{f as y,a as x,w as ve}from"../chunks/_TaY1SzJ.js";import"../chunks/AiVAk4mo.js";import{R as pe,M as be,p as te,a as ie,c as R,b as L,f as j,y as A,t as W,o as q,P as J,Q as z,x as X,z as we}from"../chunks/Dth0lIki.js";import{g as _e,a as se,b as O,s as V,S as D,G as xe}from"../chunks/B0hrV8Kf.js";import{c as ae,o as ne}from"../chunks/CDfi8Fxc.js";import{s as ye}from"../chunks/m79YdVx1.js";import{i as re}from"../chunks/ILJWgo0w.js";import{p as g,i as F}from"../chunks/BzMkKtBE.js";import{H as Ie}from"../chunks/Dk9AYwbl.js";import{a as Ee,e as ee,s as Me}from"../chunks/Ud1djtZe.js";import{a as Ce}from"../chunks/BY9dOqH7.js";function Pe(_,a,h){var p=pe(_,a);p&&p.set&&(_[a]=h,be(()=>{_[a]=null}))}var le={exports:{}};/*! pym.js - v1.3.2 - 2018-02-13 */(function(_){(function(a){_.exports?_.exports=a():window.pym=a.call(this)})(function(){var a="xPYMx",h={},p=function(n){var r=document.createEvent("Event");r.initEvent("pym:"+n,!0,!0),document.dispatchEvent(r)},I=function(n){var r=new RegExp("[\\?&]"+n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]")+"=([^&#]*)"),l=r.exec(location.search);return l===null?"":decodeURIComponent(l[1].replace(/\+/g," "))},c=function(n,r){if(!(r.xdomain!=="*"&&!n.origin.match(new RegExp(r.xdomain+"$")))&&typeof n.data=="string")return!0},E=function(n){var r=/^(?:(?:https?|mailto|ftp):|[^&:/?#]*(?:[/?#]|$))/gi;if(n.match(r))return!0},M=function(n,r,l){var u=["pym",n,r,l];return u.join(a)},C=function(n){var r=["pym",n,"(\\S+)","(.*)"];return new RegExp("^"+r.join(a)+"$")},m=Date.now||function(){return new Date().getTime()},b=function(n,r,l){var u,e,t,i=null,o=0;l||(l={});var w=function(){o=l.leading===!1?0:m(),i=null,t=n.apply(u,e),i||(u=e=null)};return function(){var P=m();!o&&l.leading===!1&&(o=P);var H=r-(P-o);return u=this,e=arguments,H<=0||H>r?(i&&(clearTimeout(i),i=null),o=P,t=n.apply(u,e),i||(u=e=null)):!i&&l.trailing!==!1&&(i=setTimeout(w,H)),t}},f=function(){for(var n=h.autoInitInstances.length,r=n-1;r>=0;r--){var l=h.autoInitInstances[r];l.el.getElementsByTagName("iframe").length&&l.el.getElementsByTagName("iframe")[0].contentWindow||h.autoInitInstances.splice(r,1)}};return h.autoInitInstances=[],h.autoInit=function(n){var r=document.querySelectorAll("[data-pym-src]:not([data-pym-auto-initialized])"),l=r.length;f();for(var u=0;u<l;++u){var e=r[u];e.setAttribute("data-pym-auto-initialized",""),e.id===""&&(e.id="pym-"+u+"-"+Math.random().toString(36).substr(2,5));var t=e.getAttribute("data-pym-src"),i={xdomain:"string",title:"string",name:"string",id:"string",sandbox:"string",allowfullscreen:"boolean",parenturlparam:"string",parenturlvalue:"string",optionalparams:"boolean",trackscroll:"boolean",scrollwait:"number"},o={};for(var w in i)if(e.getAttribute("data-pym-"+w)!==null)switch(i[w]){case"boolean":o[w]=e.getAttribute("data-pym-"+w)!=="false";break;case"string":o[w]=e.getAttribute("data-pym-"+w);break;case"number":var P=Number(e.getAttribute("data-pym-"+w));isNaN(P)||(o[w]=P);break;default:}var H=new h.Parent(e.id,t,o);h.autoInitInstances.push(H)}return n||p("pym-initialized"),h.autoInitInstances},h.Parent=function(n,r,l){this.id=n,this.url=r,this.el=document.getElementById(n),this.iframe=null,this.settings={xdomain:"*",optionalparams:!0,parenturlparam:"parentUrl",parenturlvalue:window.location.href,trackscroll:!1,scrollwait:100},this.messageRegex=C(this.id),this.messageHandlers={},l=l||{},this._constructIframe=function(){var e=this.el.offsetWidth.toString();this.iframe=document.createElement("iframe");var t="",i=this.url.indexOf("#");for(i>-1&&(t=this.url.substring(i,this.url.length),this.url=this.url.substring(0,i)),this.url.indexOf("?")<0?this.url+="?":this.url+="&",this.iframe.src=this.url+"initialWidth="+e+"&childId="+this.id,this.settings.optionalparams&&(this.iframe.src+="&parentTitle="+encodeURIComponent(document.title),this.iframe.src+="&"+this.settings.parenturlparam+"="+encodeURIComponent(this.settings.parenturlvalue)),this.iframe.src+=t,this.iframe.setAttribute("width","100%"),this.iframe.setAttribute("scrolling","no"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("frameborder","0"),this.settings.title&&this.iframe.setAttribute("title",this.settings.title),this.settings.allowfullscreen!==void 0&&this.settings.allowfullscreen!==!1&&this.iframe.setAttribute("allowfullscreen",""),this.settings.sandbox!==void 0&&typeof this.settings.sandbox=="string"&&this.iframe.setAttribute("sandbox",this.settings.sandbox),this.settings.id&&(document.getElementById(this.settings.id)||this.iframe.setAttribute("id",this.settings.id)),this.settings.name&&this.iframe.setAttribute("name",this.settings.name);this.el.firstChild;)this.el.removeChild(this.el.firstChild);this.el.appendChild(this.iframe),window.addEventListener("resize",this._onResize),this.settings.trackscroll&&window.addEventListener("scroll",this._throttleOnScroll)},this._onResize=(function(){this.sendWidth(),this.settings.trackscroll&&this.sendViewportAndIFramePosition()}).bind(this),this._onScroll=(function(){this.sendViewportAndIFramePosition()}).bind(this),this._fire=function(e,t){if(e in this.messageHandlers)for(var i=0;i<this.messageHandlers[e].length;i++)this.messageHandlers[e][i].call(this,t)},this.remove=function(){window.removeEventListener("message",this._processMessage),window.removeEventListener("resize",this._onResize),this.el.removeChild(this.iframe),f()},this._processMessage=(function(e){if(c(e,this.settings)&&typeof e.data=="string"){var t=e.data.match(this.messageRegex);if(!t||t.length!==3)return!1;var i=t[1],o=t[2];this._fire(i,o)}}).bind(this),this._onHeightMessage=function(e){var t=parseInt(e);this.iframe.setAttribute("height",t+"px")},this._onNavigateToMessage=function(e){E(e)&&(document.location.href=e)},this._onScrollToChildPosMessage=function(e){var t=document.getElementById(this.id).getBoundingClientRect().top+window.pageYOffset,i=t+parseInt(e);window.scrollTo(0,i)},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this.sendMessage=function(e,t){this.el.getElementsByTagName("iframe").length&&(this.el.getElementsByTagName("iframe")[0].contentWindow?this.el.getElementsByTagName("iframe")[0].contentWindow.postMessage(M(this.id,e,t),"*"):this.remove())},this.sendWidth=function(){var e=this.el.offsetWidth.toString();this.sendMessage("width",e)},this.sendViewportAndIFramePosition=function(){var e=this.iframe.getBoundingClientRect(),t=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,o=t+" "+i;o+=" "+e.top+" "+e.left,o+=" "+e.bottom+" "+e.right,this.sendMessage("viewport-iframe-position",o)};for(var u in l)this.settings[u]=l[u];return this._throttleOnScroll=b(this._onScroll.bind(this),this.settings.scrollwait),this.onMessage("height",this._onHeightMessage),this.onMessage("navigateTo",this._onNavigateToMessage),this.onMessage("scrollToChildPos",this._onScrollToChildPosMessage),this.onMessage("parentPositionInfo",this.sendViewportAndIFramePosition),window.addEventListener("message",this._processMessage,!1),this._constructIframe(),this},h.Child=function(n){this.parentWidth=null,this.id=null,this.parentTitle=null,this.parentUrl=null,this.settings={renderCallback:null,xdomain:"*",polling:0,parenturlparam:"parentUrl"},this.timerId=null,this.messageRegex=null,this.messageHandlers={},n=n||{},this.onMessage=function(e,t){e in this.messageHandlers||(this.messageHandlers[e]=[]),this.messageHandlers[e].push(t)},this._fire=function(e,t){if(e in this.messageHandlers)for(var i=0;i<this.messageHandlers[e].length;i++)this.messageHandlers[e][i].call(this,t)},this._processMessage=(function(e){if(c(e,this.settings)&&typeof e.data=="string"){var t=e.data.match(this.messageRegex);if(!(!t||t.length!==3)){var i=t[1],o=t[2];this._fire(i,o)}}}).bind(this),this._onWidthMessage=function(e){var t=parseInt(e);t!==this.parentWidth&&(this.parentWidth=t,this.settings.renderCallback&&this.settings.renderCallback(t),this.sendHeight())},this.sendMessage=function(e,t){window.parent.postMessage(M(this.id,e,t),"*")},this.sendHeight=(function(){var e=document.getElementsByTagName("body")[0].offsetHeight.toString();return this.sendMessage("height",e),e}).bind(this),this.getParentPositionInfo=function(){this.sendMessage("parentPositionInfo")},this.scrollParentTo=function(e){this.sendMessage("navigateTo","#"+e)},this.navigateParentTo=function(e){this.sendMessage("navigateTo",e)},this.scrollParentToChildEl=function(e){var t=document.getElementById(e).getBoundingClientRect().top+window.pageYOffset;this.scrollParentToChildPos(t)},this.scrollParentToChildPos=function(e){this.sendMessage("scrollToChildPos",e.toString())};var r=function(e){var t=document.getElementsByTagName("html")[0],i,o=t.className;try{window.self!==window.top?i="embedded":i="not-embedded"}catch{i="embedded"}o.indexOf(i)<0&&(t.className=o?o+" "+i:i,e&&e(i),p("marked-embedded"))};this.remove=function(){window.removeEventListener("message",this._processMessage),this.timerId&&clearInterval(this.timerId)};for(var l in n)this.settings[l]=n[l];this.id=I("childId")||n.id,this.messageRegex=new RegExp("^pym"+a+this.id+a+"(\\S+)"+a+"(.*)$");var u=parseInt(I("initialWidth"));return this.parentUrl=I(this.settings.parenturlparam),this.parentTitle=I("parentTitle"),this.onMessage("width",this._onWidthMessage),window.addEventListener("message",this._processMessage,!1),this.settings.renderCallback&&this.settings.renderCallback(u),this.sendHeight(),this.settings.polling&&(this.timerId=window.setInterval(this.sendHeight,this.settings.polling)),r(n.onMarkedEmbeddedStatus),this},typeof document<"u"&&h.autoInit(!0),h})})(le);var Te=le.exports;const Ae=_e(Te);var He=y('<div class="ons-svelte-embed-container svelte-1cl8iie"><!></div>');function Se(_,a){te(a,!1);let h=g(a,"pymChild",12,null),p=g(a,"polling",8,500);const I=ae();ne(()=>{h(new Ae.Child),p()&&setInterval(()=>{h().sendMessage("height",Math.max(document.body.scrollHeight,document.body.offsetHeight))},p());const M=document.location.href,C=new URLSearchParams(document.location.search).get("parentUrl");I("load",{href:M,parentUrl:C,pymChild:h()})}),re();var c=He();se(c,"",{},{display:"contents"});var E=R(c);ye(E,a,"default",{},null),L(c),x(_,c),ie()}var Re=ve(y("<script><\/script><!>",1)),Le=y("<label> </label>"),Be=y('<button type="reset" title="Clear selection" aria-label="Clear selection" class="ons-autocomplete-clear svelte-nc31vb"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 14 14" width="18"><path fill="currentColor" d="M13.6 1 l -0.71 -0.71 a 0.5 0.5 0 0 0 -0.71 0 l -5.25 5.25 l -5.25 -5.25 a 0.51 0.51 0 0 0 -0.71 0 l -0.71 0.71 a 0.5 0.5 0 0 0 0 0.71 l 5.25 5.25 l -5.25 5.25 a 0.5 0.5 0 0 0 0 0.71 l 0.71 0.71 a 0.5 0.5 0 0 0 0.71 0 l 5.25 -5.25 l 5.25 5.25 a 0.5 0.5 0 0 0 0.71 0 l 0.71 -0.71 a 0.5 0.5 0 0 0 0 -0.71 l -5.25 -5.25 l 5.25 -5.25 a 0.5 0.5 0 0 0 0 -0.71Z"></path></svg></button>'),Ne=y("<div></div> <!>",1),We=y('<div><!> <div class="ons-autocomplete-wrapper svelte-nc31vb"><!></div></div>');function ke(_,a){te(a,!1);const h=ae(),p=(s=1e3)=>new Promise(d=>setTimeout(d,s)),I=s=>`<svg class="${s==null?void 0:s.className}" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 11.75 7.7" width="18" style="z-index:1"><path fill="currentColor" d="m1.37.15 4.5 5.1 4.5-5.1a.37.37 0 0 1 .6 0l.7.7a.45.45 0 0 1 0 .5l-5.5 6.2a.37.37 0 0 1-.6 0l-5.5-6.1a.64.64 0 0 1 0-.6l.7-.7a.64.64 0 0 1 .6 0Z"></path></svg>`;let c,E=J(),M,C=J(!1),m=g(a,"id",8,"autocomplete"),b=g(a,"mode",8,"default"),f=g(a,"clearable",24,()=>b()!=="search"),n=g(a,"autoClear",24,()=>b()==="search"),r=g(a,"label",24,()=>b()==="search"?"Type to select":"Select an option"),l=g(a,"hideLabel",8,!1),u=g(a,"placeholder",24,()=>b()==="search"?"Enter text":"Select one"),e=g(a,"value",12,null),t=g(a,"options",24,()=>[]),i=g(a,"labelKey",8,"label"),o=g(a,"groupKey",8,""),w=g(a,"minLength",24,()=>b()==="search"?1:0),P=g(a,"loadOptions",8,(s,d)=>{const v=b()!=="search"&&t().map(T=>T[i()]).includes(s)?t():t().filter(T=>T[i()].match(new RegExp(`\\b${s.replace(/[^\w\s]/gi,"")}`,"i")));d(v)}),H=g(a,"scriptUrl",8,"https://cdn.ons.gov.uk/vendor/accessible-autocomplete/3.0.1/accessible-autocomplete.min.js");async function B(){z(C,!0),c.value="",await p(110),c.focus({preventScroll:!0}),c.blur(),z(C,!1),h("clear",e())}let oe=g(a,"cls",8,"");function de(s){return s&&s[i()]}function K(s,d=""){return s.replace(new RegExp(`\\b${d.replace(/[^\w\s]/gi,"")}`,"i"),v=>`<b>${v}</b>`)}function he(s){const d=(c==null?void 0:c.value)||"";return s&&(o()?`${K((s==null?void 0:s[i()])||"",d)} <span class="muted-text">${s[o()]}</span>`:K((s==null?void 0:s[i()])||"",d))}async function Y(s){e(s),h("change",e()),e()&&n()&&(await p(0),B())}function ce(s){s.target.value||Y(null)}function $(){!q(E)&&(window!=null&&window.accessibleAutocomplete)&&(M=window.accessibleAutocomplete,z(E,!0))}function k(s){var d;M({element:s,id:m(),name:`${m()}-input`,source:P(),defaultValue:((d=e())==null?void 0:d[i()])||"",autoselect:!0,onConfirm:Y,confirmOnBlur:!1,placeholder:u(),displayMenu:"overlay",showAllValues:b()==="default",dropdownArrow:I,minLength:w(),templates:{inputValue:de,suggestion:he}}),c=document.getElementById(m()),c.addEventListener("blur",ce)}ne($),re();var N=We();Ee(s=>{var d=Re(),v=j(d);A(v),W(()=>O(v,"src",H())),ee("load",v,$),x(s,d)});var G=R(N);{var ue=s=>{var d=Le();let v;var T=R(d,!0);L(d),W(U=>{O(d,"for",m()),v=V(d,1,"ons-label",null,v,U),Me(T,r())},[()=>({"ons-u-vh":l()})],X),x(s,d)};F(G,s=>{r()&&s(ue)})}var Z=A(G,2),me=R(Z);{var fe=s=>{var d=Ne(),v=j(d);let T;Ce(v,S=>k==null?void 0:k(S));var U=A(v,2);{var ge=S=>{var Q=Be();ee("click",Q,B),x(S,Q)};F(U,S=>{f()&&!n()&&e()&&S(ge)})}W(S=>{O(v,"id",`${m()??""}-container`),T=V(v,1,"ons-autocomplete svelte-nc31vb",null,T,S)},[()=>({"hide-menu":q(C)})],X),x(s,d)};F(me,s=>{q(E)&&s(fe)})}return L(Z),L(N),W(()=>V(N,1,`ons-field ${oe()??""}`,"svelte-nc31vb")),x(_,N),Pe(a,"clearInput",B),ie({clearInput:B})}var Ue=y("<div><h2>This is a sub-headline</h2> <p>This is a description of the embedded interactive.</p> <!></div>"),qe=y(`<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
      labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
      laboris nisi ut aliquip ex ea commodo consequat..</p> <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
      pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt
      mollit anim id est laborum.</p>`,1),ze=y('<div class="placeholder"></div>'),Oe=y(`<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
      labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
      laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in
      voluptate velit esse cillum dolore eu fugiat nulla pariatur.</p>`),Ve=y(`<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
      labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
      laboris nisi ut aliquip ex ea commodo consequat.</p>`),De=y("<!> <!> <!> <!> <!>",1);function tt(_){Se(_,{children:(a,h)=>{var p=De(),I=j(p);Ie(I,{bigText:!1,marginBottom:!1,children:(m,b)=>{var f=Ue();se(f,"",{},{padding:"0 12px"});var n=A(R(f),4);ke(n,{label:"Select your area"}),L(f),x(m,f)},$$slots:{default:!0}});var c=A(I,2);D(c,{title:"Section title",marginTop:!0,children:(m,b)=>{var f=qe();we(2),x(m,f)},$$slots:{default:!0}});var E=A(c,2);xe(E,{width:"medium",caption:"This is a caption text",children:(m,b)=>{var f=ze();x(m,f)},$$slots:{default:!0}});var M=A(E,2);D(M,{title:"Another section title",children:(m,b)=>{var f=Oe();x(m,f)},$$slots:{default:!0}});var C=A(M,2);D(C,{title:"Yet another section title",children:(m,b)=>{var f=Ve();x(m,f)},$$slots:{default:!0}}),x(a,p)},$$slots:{default:!0}})}export{tt as component};
